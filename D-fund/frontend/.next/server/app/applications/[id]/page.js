(()=>{var e={};e.id=597,e.ids=[597],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2573:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o}),a(6141),a(6624),a(5866);var s=a(3191),r=a(8716),i=a(7922),n=a.n(i),l=a(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);a.d(t,d);let o=["",{children:["applications",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6141)),"/home/arsene/D-fund/D-fund/frontend/app/applications/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,6624)),"/home/arsene/D-fund/D-fund/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/arsene/D-fund/D-fund/frontend/app/applications/[id]/page.tsx"],x="/applications/[id]/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/applications/[id]/page",pathname:"/applications/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5131:(e,t,a)=>{Promise.resolve().then(a.bind(a,3916))},3916:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(326),r=a(5047),i=a(8198),n=a(4976),l=a(108),d=a(119),o=a(1536),c=a(6333),x=a(6557);let p=(0,x.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),m=(0,x.Z)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),u=(0,x.Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var b=a(9436),h=a(7577);function y(){let e=(0,r.useParams)(),t=(0,r.useRouter)(),{user:a}=(0,i.a)(),x=(0,n.NL)(),y=e?.id,{data:f,isLoading:g}=(0,l.a)({queryKey:["my-applications-full",a?.id],queryFn:()=>(0,o.yw)(`/applications/user/${a?.id}`),enabled:!!a?.id}),j=f?.find(e=>e.id===y),[v,N]=(0,h.useState)(""),[w,k]=(0,h.useState)(""),[P,D]=(0,h.useState)(!1),S=(0,d.D)({mutationFn:()=>(0,o.yw)(`/applications/${y}`,{method:"PUT",body:JSON.stringify({title:v,goalLetter:w})}),onSuccess:()=>{x.invalidateQueries({queryKey:["my-applications-full",a?.id]}),alert("Application saved as draft.")}}),_=(0,d.D)({mutationFn:()=>(0,o.yw)(`/applications/${y}/submit`,{method:"POST"}),onSuccess:()=>{x.invalidateQueries({queryKey:["my-applications-full",a?.id]}),alert("Application submitted!"),t.push("/applications")}});if(!a)return s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("p",{className:"text-gray-500 text-sm",children:"Please sign in to view this application."})});if(g||!f)return s.jsx("div",{className:"container mx-auto px-6 py-12 max-w-4xl",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-10 bg-gray-200 rounded"}),s.jsx("div",{className:"h-64 bg-gray-200 rounded-2xl"})]})});if(!j)return(0,s.jsxs)("div",{className:"container mx-auto px-6 py-12 max-w-4xl text-center",children:[s.jsx("h1",{className:"text-xl font-bold mb-2",children:"Application not found"}),s.jsx("button",{onClick:()=>t.push("/applications"),className:"text-[#3b49df] text-sm font-semibold hover:underline",children:"Back to My Applications"})]});let q="DRAFT"===j.stage;return(0,s.jsxs)("div",{className:"container mx-auto px-6 py-8 max-w-4xl",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("button",{onClick:()=>t.back(),className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700",children:[s.jsx(c.Z,{className:"w-4 h-4"}),"Back"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-600 font-semibold",children:j.stage}),j.submissionDate&&(0,s.jsxs)("span",{className:"text-gray-400",children:["Submitted"," ",new Date(j.submissionDate).toLocaleDateString("fr-FR")]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,s.jsxs)("div",{className:"border-b border-gray-100 px-6 pt-6 flex gap-6",children:[(0,s.jsxs)("button",{className:"flex items-center gap-2 pb-4 border-b-2 border-[#3b49df] text-sm font-semibold text-[#3b49df]",children:[s.jsx(p,{className:"w-4 h-4"}),"Main Info"]}),(0,s.jsxs)("button",{className:"flex items-center gap-2 pb-4 border-b-2 border-transparent text-sm font-semibold text-gray-300 cursor-default",children:[s.jsx(m,{className:"w-4 h-4"}),"Attachments"]}),(0,s.jsxs)("button",{className:"flex items-center gap-2 pb-4 border-b-2 border-transparent text-sm font-semibold text-gray-300 cursor-default",children:[s.jsx(u,{className:"w-4 h-4"}),"Referrals"]})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),q&&S.mutate()},className:"px-6 pb-6 pt-4 space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Main Info"}),s.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Basic details to introduce yourself to the opportunity owner."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Short headline"}),s.jsx("input",{type:"text",value:v,onChange:e=>N(e.target.value),disabled:!q,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-[#3b49df] focus:border-[#3b49df] disabled:bg-gray-50",maxLength:180,placeholder:"e.g. Product Manager with 5+ years in fintech"}),(0,s.jsxs)("div",{className:"mt-1 text-[10px] text-gray-400 text-right",children:[v.length,"/180"]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Why you?"}),s.jsx("textarea",{value:w,onChange:e=>k(e.target.value),disabled:!q,rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-[#3b49df] focus:border-[#3b49df] disabled:bg-gray-50",placeholder:"Explain why you are a great fit for this opportunity..."})]})]}),q&&(0,s.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[s.jsx("input",{type:"checkbox",checked:P,onChange:e=>D(e.target.checked),className:"rounded border-gray-300 text-[#3b49df] focus:ring-[#3b49df]"}),"Ready to submit"]}),s.jsx("span",{className:"text-[10px] text-gray-400",children:"You can only submit once you feel confident."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"submit",disabled:S.isPending,className:"px-4 py-2 text-xs font-semibold rounded-lg border border-gray-200 text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Save draft"}),(0,s.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),q&&P&&_.mutate()},disabled:!P||_.isPending,className:"flex items-center gap-2 px-4 py-2 text-xs font-semibold rounded-lg bg-[#3b49df] text-white hover:bg-[#2d3aba] disabled:opacity-50",children:[s.jsx(b.Z,{className:"w-4 h-4"}),_.isPending?"Submitting...":"Submit application"]})]})]}),!q&&s.jsx("div",{className:"pt-4 border-t border-gray-100 text-xs text-gray-500",children:"This application is no longer editable because it has already been submitted or reviewed."})]})]})]})}},6333:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9436:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},6141:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`/home/arsene/D-fund/D-fund/frontend/app/applications/[id]/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[192,108,453],()=>a(2573));module.exports=s})();