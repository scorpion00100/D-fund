(()=>{var e={};e.id=849,e.ids=[849],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},194:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>o}),t(8291),t(6624),t(5866);var a=t(3191),r=t(8716),n=t(7922),i=t.n(n),l=t(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o=["",{children:["opportunities",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8291)),"/home/arsene/D-fund/D-fund/frontend/app/opportunities/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6624)),"/home/arsene/D-fund/D-fund/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/arsene/D-fund/D-fund/frontend/app/opportunities/[id]/page.tsx"],x="/opportunities/[id]/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/opportunities/[id]/page",pathname:"/opportunities/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9731:(e,s,t)=>{Promise.resolve().then(t.bind(t,7907))},7907:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var a=t(326),r=t(5047),n=t(108),i=t(119),l=t(1536),d=t(8198),o=t(6333),c=t(5562),x=t(6557);let m=(0,x.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);var p=t(8998);let h=(0,x.Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);var u=t(617),y=t(9436);let g=(0,x.Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),f=(0,x.Z)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),b=(0,x.Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var j=t(434);function v(){let e=(0,r.useParams)(),s=(0,r.useRouter)(),{user:t}=(0,d.a)(),x=e?.id,{data:v,isLoading:N}=(0,n.a)({queryKey:["opportunity",x],queryFn:()=>(0,l.yw)(`/opportunities/${x}`),enabled:!!x}),w=(0,i.D)({mutationFn:()=>(0,l.yw)("/applications",{method:"POST",body:JSON.stringify({opportunityId:x})}),onSuccess:e=>{s.push(`/applications/${e.id}`)},onError:e=>{alert(e.message)}});if(N)return a.jsx("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-8",children:[a.jsx("div",{className:"h-64 bg-gray-200 rounded-2xl"}),a.jsx("div",{className:"h-8 w-1/2 bg-gray-200 rounded"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})});if(!v)return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Opportunity not found"}),a.jsx(j.default,{href:"/",className:"text-[#3b49df] hover:underline",children:"Return home"})]});let k=new Date(v.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"});return(0,a.jsxs)("div",{className:"bg-gray-50 min-h-screen pb-12",children:[(0,a.jsxs)("div",{className:"relative h-64 md:h-80 w-full overflow-hidden",children:[a.jsx("img",{src:v.backgroundImage||"https://images.unsplash.com/photo-1557804506-669a67965ba0?auto=format&fit=crop&q=80",alt:"",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx("div",{className:"absolute top-8 left-8",children:(0,a.jsxs)("button",{onClick:()=>s.back(),className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg text-sm font-bold text-gray-900 shadow-sm hover:bg-gray-50 transition-colors",children:[a.jsx(o.Z,{className:"w-4 h-4"}),"Back"]})})]}),a.jsx("div",{className:"container mx-auto px-4 -mt-16 relative z-10 max-w-5xl",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[a.jsx("div",{className:"text-xs font-bold text-[#3b49df] uppercase tracking-wider mb-2",children:v.type.replace(/_/g," ")}),a.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-4",children:v.name}),v.punchline&&a.jsx("p",{className:"text-xl text-gray-600 mb-6 font-medium",children:v.punchline}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500 mb-8 border-y border-gray-100 py-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(c.Z,{className:"w-4 h-4"}),v.city&&v.country?`${v.city}, ${v.country}`:"Remote"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(m,{className:"w-4 h-4"}),"Posted on ",k]}),v.expirationDate&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-500 font-medium",children:[a.jsx(p.Z,{className:"w-4 h-4"}),"Expires ",new Date(v.expirationDate).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"prose prose-blue max-w-none text-gray-700 leading-relaxed mb-8",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Description"}),a.jsx("div",{className:"whitespace-pre-wrap",children:v.description||"No description provided."})]}),v.tags?.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[a.jsx(h,{className:"w-4 h-4"}),"Tags"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:v.tags.map(e=>a.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-sm",children:e},e))})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Discussion"}),(0,a.jsxs)("span",{className:"text-gray-500 text-sm",children:[v.messagesCount," messages"]})]}),(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[a.jsx(u.Z,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),a.jsx("p",{children:"Join the conversation about this opportunity."}),a.jsx("button",{className:"mt-4 text-[#3b49df] font-bold hover:underline",children:"View all messages"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 space-y-4 sticky top-8",children:[t?v.ownerId===t.id?a.jsx(j.default,{href:`/opportunities/${x}/edit`,className:"flex items-center justify-center w-full py-3 bg-gray-100 text-gray-900 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:"Edit Opportunity"}):(0,a.jsxs)("button",{onClick:()=>w.mutate(),disabled:w.isPending,className:"flex items-center justify-center gap-2 w-full py-3 bg-[#3b49df] text-white rounded-xl font-bold hover:bg-[#2d3aba] transition-colors shadow-sm disabled:opacity-50",children:[a.jsx(y.Z,{className:"w-5 h-5"}),w.isPending?"Creating draft...":"Apply Now"]}):a.jsx(j.default,{href:"/login",className:"flex items-center justify-center w-full py-3 bg-[#3b49df] text-white rounded-xl font-bold hover:bg-[#2d3aba] transition-colors shadow-sm",children:"Sign in to Apply"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{className:"flex items-center justify-center gap-2 py-2 border border-gray-100 rounded-lg text-sm font-semibold text-gray-600 hover:bg-gray-50 transition-colors",children:[a.jsx(g,{className:"w-4 h-4"}),"Like"]}),(0,a.jsxs)("button",{className:"flex items-center justify-center gap-2 py-2 border border-gray-100 rounded-lg text-sm font-semibold text-gray-600 hover:bg-gray-50 transition-colors",children:[a.jsx(f,{className:"w-4 h-4"}),"Save"]})]}),(0,a.jsxs)("button",{className:"flex items-center justify-center gap-2 w-full py-2 text-sm font-semibold text-gray-500 hover:text-gray-700 transition-colors",children:[a.jsx(b,{className:"w-4 h-4"}),"Share Opportunity"]}),a.jsx("hr",{className:"border-gray-100"}),(0,a.jsxs)("div",{className:"pt-2",children:[a.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Posted by"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center text-xl font-bold text-[#3b49df]",children:v.owner.profilePic?a.jsx("img",{src:v.owner.profilePic,alt:"",className:"w-full h-full object-cover rounded-xl"}):v.owner.name[0]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-bold text-gray-900",children:v.owner.name}),a.jsx(j.default,{href:`/profiles/${v.ownerId}`,className:"text-xs text-[#3b49df] font-bold hover:underline",children:"View Profile"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[a.jsx("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4",children:"Activity"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Applications"}),a.jsx("span",{className:"font-bold text-gray-900",children:v.applicationsCount})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Likes"}),a.jsx("span",{className:"font-bold text-gray-900",children:v.likesCount})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Saved by"}),(0,a.jsxs)("span",{className:"font-bold text-gray-900",children:[v.savedCount," users"]})]})]})]})]})]})})]})}},6333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5562:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9436:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},8291:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`/home/arsene/D-fund/D-fund/frontend/app/opportunities/[id]/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[192,108,453],()=>t(194));module.exports=a})();